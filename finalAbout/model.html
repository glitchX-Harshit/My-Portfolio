<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Journey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', sans-serif;
            background: #ffffff;
            color: #000000;
            overflow-x: hidden;
        }

        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
        }

        #webgl-canvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .content {
            position: relative;
            z-index: 2;
            pointer-events: none;
        }

        .section {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding: 4rem 6rem;
            position: relative;
            pointer-events: none;
        }

        .text-block {
            max-width: 700px;
            pointer-events: auto;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1.2s cubic-bezier(0.16, 1, 0.3, 1);
            width: fit-content;
        }

        .text-block.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .text-block.from-right {
            margin-left: auto;
            text-align: right;
        }

        .text-block h1 {
            font-size: 6rem;
            font-weight: 900;
            letter-spacing: -0.03em;
            line-height: 1;
            margin-bottom: 2rem;
            color: #000000;
        }

        .text-block h2 {
            font-size: 4.5rem;
            font-weight: 900;
            letter-spacing: -0.02em;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            color: #000000;
        }

        .text-block p {
            font-size: 1rem;
            line-height: 1.8;
            color: #585858;
            font-weight: 600;
            margin-bottom: 1.2rem;
        }

        @media (max-width: 1024px) {
            .section {
                padding: 3rem 3rem;
            }

            .text-block h1 {
                font-size: 4rem;
            }

            .text-block h2 {
                font-size: 3rem;
            }
        }

        @media (max-width: 768px) {
            .section {
                padding: 2rem 2rem;
            }

            .text-block h1 {
                font-size: 3rem;
                margin-bottom: 1.5rem;
            }

            .text-block h2 {
                font-size: 2.5rem;
                margin-bottom: 1rem;
            }

            .text-block p {
                font-size: 0.95rem;
            }
        }

        .newpage{
            position: relative;
            z-index: 10;
            background-color: #000000;
            color: #ffffff;
            height: 100vh;
            width: 100%;
        }
    </style>
</head>

<body>
    <div id="canvas-container">
        <canvas id="webgl-canvas"></canvas>
    </div>

    <div class="content">
        <section class="section">
            <div class="text-block" data-aos>
            </div>
        </section>

        <section class="section">
            <div class="text-block" data-aos>
            </div>
        </section>

        <section class="section">
            <div class="text-block" data-aos>
                <h1>Welcome</h1>
                <p>A journey through code, creativity, and continuous growth. <br> As you scroll, discover the path that
                    shaped who I am today.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block from-right" data-aos>
                <h2>The Beginning</h2>
                <p>It started with curiosity. One line of code turned into thousands. <br> Every project taught me
                    something
                    new, every bug made me stronger.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block" data-aos>
                <h2>What I Know</h2>
                <p>Three.js, WebGL, GLSL shaders, React. But more than tools, <br>I've learned how to solve problems,
                    build
                    experiences, <br> and create meaning through technology.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block from-right" data-aos>
                <h2>The Struggles</h2>
                <p>Late nights debugging. Moments of doubt. Failed projects. <br> Each obstacle was a teacher in
                    disguise,
                    pushing me to <br>become better.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block" data-aos>
                <h2>Today</h2>
                <p>Still learning. Still building. Still pushing boundaries. <br>The journey never endsâ€”it just gets
                    more
                    interesting.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block from-right" data-aos>
                <h2>Let's Connect</h2>
                <p>If my story resonates with you, reach out. Every expert was <br> once a beginner. Keep moving
                    forward.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block from-right" data-aos>
                <h2>Let's Connect</h2>
                <p>If my story resonates with you, reach out. <br>Every expert was once a beginner. Keep <br>moving
                    forward.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block from-right" data-aos>
                <h2>Let's Connect</h2>
                <p>If my story resonates with you, reach out. <br>Every expert was once a beginner. Keep <br>moving
                    forward.</p>
            </div>
        </section>

        <section class="section">
            <div class="text-block from-right" data-aos>
                <h2>Let's Connect</h2>
                <p>If my story resonates with you, reach out. <br>Every expert was once a beginner. Keep <br>moving
                    forward.</p>
            </div>
        </section>
    </div>

    <div class="newpage">
        <h2 >HEY</h2>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <script>
        // ===== CONFIGURATION =====
        const MODEL_PATH = 'robot.glb'; // Change this to your model path

        let scene, camera, renderer, model, mixer, controls;
        let isHoveringModel = false;
        let clock = new THREE.Clock();
        let shadowPlane;

        function init() {
            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color("white");

            // Camera
            camera = new THREE.PerspectiveCamera(
                50,
                window.innerWidth / window.innerHeight,
                0.1,
                1000
            );
            camera.position.set(0, 1, 10);
            camera.lookAt(0, 1, 0);

            // Renderer
            const canvas = document.getElementById('webgl-canvas');
            renderer = new THREE.WebGLRenderer({
                canvas,
                antialias: true,
                alpha: false
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;

            // Lighting - minimal and clean
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.9);
            scene.add(ambientLight);

            const dir = new THREE.DirectionalLight(0xffffff, 0.8);
            dir.position.set(5, 5, 5);
            dir.castShadow = true;
            scene.add(dir);

            const p1 = new THREE.PointLight(0x667eea, 1.2, 50);
            p1.position.set(-5, 2, 4);
            scene.add(p1);

            const p2 = new THREE.PointLight(0x764ba2, 0.8, 50);
            p2.position.set(5, -2, -4);
            scene.add(p2);

            // Shadow plane - subtle
            // const shadowGeometry = new THREE.PlaneGeometry(20, 20);
            // const shadowMaterial = new THREE.ShadowMaterial({ opacity: 0.2 });
            // shadowPlane = new THREE.Mesh(shadowGeometry, shadowMaterial);
            // shadowPlane.rotation.x = -Math.PI / 2;
            // shadowPlane.position.y = 0;
            // shadowPlane.receiveShadow = true;
            // scene.add(shadowPlane);

            // OrbitControls (disabled by default)
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.enabled = false;
            controls.enablePan = false;
            controls.minDistance = 6;
            controls.maxDistance = 20;
            controls.maxPolarAngle = Math.PI * 2;

            // Events
            renderer.domElement.addEventListener('mousemove', onMouseMove);
            renderer.domElement.addEventListener('mouseout', () => {
                isHoveringModel = false;
                controls.enabled = false;
                renderer.domElement.style.cursor = 'default';
            });

            window.addEventListener('scroll', onScroll);
            window.addEventListener('resize', onResize);

            // Load model
            loadModel();

            // Observe text blocks
            observeTextBlocks();

            animate();
        }

        function loadModel() {
            const loader = new THREE.GLTFLoader();

            loader.load(
                MODEL_PATH,
                (gltf) => {
                    model = gltf.scene;

                    // Enable shadows
                    model.traverse((child) => {
                        if (child.isMesh) {
                            child.castShadow = true;
                            child.receiveShadow = true;
                        }
                    });

                    model.position.set(0, -4, 0);
                    model.scale.set(2, 2, 2);
                    scene.add(model);

                    
                    // Play animation
                    if (gltf.animations && gltf.animations.length > 0) {
                        mixer = new THREE.AnimationMixer(model);
                        const action = mixer.clipAction(gltf.animations[0]);
                        action.play();
                    }
                    
                    model.traverse((n) => {
                        if (n.isMesh) {
                            n.castShadow = true;
                            n.receiveShadow = true;
                        }
                    });
                },
                (xhr) => {
                    console.log((xhr.loaded / xhr.total * 100) + '% loaded');
                },
                (error) => {
                    console.error('Error loading model:', error);
                }
            );
        }


        function onMouseMove(event) {
            if (!model) return;

            const mouse = new THREE.Vector2();
            mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
            mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;

            const raycaster = new THREE.Raycaster();
            raycaster.setFromCamera(mouse, camera);

            const intersects = raycaster.intersectObject(model, true);

            if (intersects.length > 0) {
                isHoveringModel = true;
                controls.enabled = true;
                renderer.domElement.style.cursor = 'grab';
            } else {
                isHoveringModel = false;
                controls.enabled = false;
                renderer.domElement.style.cursor = 'default';
            }
        }

        function onScroll() {
            if (!model) return;

            const scrollPercent = window.scrollY / (document.body.offsetHeight - window.innerHeight);

            // Scale model from 1 to 2.5 (reduced max scale to prevent cutoff)
            const scale = 2 + scrollPercent * 2.80;
            model.scale.set(scale, scale, scale);

            // Scale shadow
            const shadowScale = 1 + scrollPercent * 1.5;
            shadowPlane.scale.set(shadowScale, shadowScale, 1);
        }

        function observeTextBlocks() {
            const options = {
                threshold: 0.2,
                rootMargin: '0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, options);

            document.querySelectorAll('[data-aos]').forEach(el => {
                observer.observe(el);
            });
        }

        function animate() {
            requestAnimationFrame(animate);

            const delta = clock.getDelta();

            if (mixer) {
                mixer.update(delta);
            }

            if (controls.enabled) {
                controls.update();
            }

            renderer.render(scene, camera);
        }

        function onResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        init();
    </script>
</body>

</html>